["/*8aba48a9c2998d501cf5d7ec60845b8871c252b3",42,279338,"Img\",{extend:Ext.Component,xtype:[\"image\",\"img\"],config:{src",414878,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"},beforeI",500576,34,"onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",289022,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",310224,36,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",515107,38,"hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",251088,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",286214,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);",501017,33,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(",348323,36,"detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement",279342,239139,",{name:\"Link",518466,486,"News\",label:\"OECD News",518980,1183,"s",520164,218,",\"Link",520380,269,520671,964,"9",522573,80,521717,1906,"isttop:\"mainlist toolbar",523620,241,",share:\"share\",tabletPrev:\"#btnPrev\",tabletNext:\"#btnNext\"},control:{viewport:{onrientationchange:function(){alert(\"change\")}},",523872,117,"if(a.data.typeName==\"Links\"){this.openLink(a.data.link)}else{this.openDetail(a.data)}},loadmoretap:function(){}},listtop:{toptap:function(){alert(\"a\")",524037,33,"loadMore()}},tabletPrev:{",524414,42,524271,123,"scrollListSelected();this.openDetail(a)}}},tabletNext:{",524414,133,"if(this.self.currentIndex==(this.self.currentPage*this.self.pageSize)-1){this.loadMore()}this.self.currentIndex++;this.scrollListSelected();this.openDetail(a)}}},detail:{show",526735,40,"openTabletNavi()}},hide:function(){console.log(this.self.currentIndex);if(this.self.currentIndex>-1&&!this.self.isTablet){this.scrollListSelected()}if(this.self.isTablet){this.closeTabletNavi()}},",524187,360,"if(this.self.currentIndex==(this.self.currentPage*this.self.pageSize)-1){this.loadMore()}",524547,71,"openShare()},opentap:function(a){this.openLink(a",524676,74,",emailtap:function(a){this.shareEmail(a)},facebooktap:function(a){this.shareFacebook(a)},twittertap:function(a){this.shareTwitter(a",524748,376,"if(a==\"Links\"){this.callLinks()}else{this.displayList(1)}",525144,267,",share:{emailtap:function(){this.shareEmail()},facebooktap:function(){this.shareFacebook()},twittertap:function(){this.shareTwitter()",525409,71,"feeds:[],link",525485,106,"InitLog();",525582,98,"\"Generic\"",525695,114,"allInitLog:function(){var a=this",528323,37,"smart-ip.net/geoip-json\",callback:function(d,b){var c={ip:b.host,deviceType:Ext.os.deviceType,os:Ext.os.name,osversion:Ext.os.version,country:b.countryName,countryCode:b.countryCode,city:b.city,createdat:(new Date())};Ext.Ajax.request({url:OECDInfo.app.serviceRoot()+\"/log/init\",method:\"POST\",params:c,timeout:10000,callback:function(f,e){}})}})},scrollListSelected:function(){var c=this.getList(),a=c.getViewItems(),b=a[this.self.currentIndex-1],d=b.bodyElement.dom.offsetTop-26;c",529546,42,"d);c.deselectAll();c.select(this.self.currentIndex)},getLink:function(){var a=function(c,b){if(c==null){return\"\"}c=c",530054,72,"c=c",530129,74,"c=c",530206,69,"c=c",530278,78,"c}},preloadImg:function(c){for(var b=0;b<c.length;b++){var a=new Image();a.src=c[b]}},shareEmail:function(){var a=this.self.detail.getData();alert(\"a\");window.open(\"mailto:?subject=OECD Info:\",\"email\")},shareFacebook:function(a){var a=this.self.detail.getData();window.open(\"https://www.facebook.com/sharer/sharer.php?u=\"+a.link,\"fbsharer\")},shareTwitter:function(a){var a=this.self.detail.getData();window.open(\"https://twitter.com/intent/tweet?url=\"+a.link+\"&text=\"+a.title,\"twitter\")",525806,453,"prev=Ext.Viewport.add({xtype:\"image\",id:\"btnPrev\",src:\"resources/images/arrow_left.png\",zIndex:10000,width:110,height:130,top:300,left:50});this.self.next=Ext.Viewport.add({xtype:\"image\",id:\"btnNext\",src:\"resources/images/arrow_right.png\",zIndex:10000,width:110,height:130,top:300,right:50",526415,52,526298,53,"400,height:\"80%\",centered:true,style:\"border:solid 1px black\",showAnimation:{type:\"pop\",duration:150},hideAnimation:{type:\"fadeOut\",duration:150}});",526470,53,",isTablet:true});this.preloadImg([\"resources/images/arrow_left.png\",\"resources/images/arrow_right.png\"]",526363,106,";",526470,56,"},openTabletNavi:function(){this.self.prev.show();this.self.next.show()},closeTabletNavi:function(){this.self.prev.hide();this.self.next.hide()},getTheme:function(){var b=localStorage.themes",526590,80,"localStorage.themes=JSON.stringify(a)},setFeeds:function(a){console.log(a);localStorage.feeds=JSON.stringify(a)},getFeeds:function(){var b=localStorage.feeds",526590,45,"[]:a",526724,245,"handleOrientationDetail:function(){var a=window.innerWidth;if(a>800){this.self.prev.setTop(330);this.self.next.setTop(330);this.self.prev.setLeft(90);this.self.next.setRight(90);this.self.detail.setWidth(440);this.self.detail.setHeight(\"80%\")}else{this.self.prev.setTop(500);this.self.next.setTop(500);this.self.prev.setLeft(50);this.self.next.setRight(50);this.self.detail.setWidth(400);this.self.detail.setHeight(\"70%\"",526965,398,"if(d){this.handleOrientationDetail()}",527363,840,"Links:function(){var a",528228,81,"Ext.data.JsonP.request({url:OECDInfo.app.serviceRoot()+\"/api/links/\",callback:function(c,b){if(b==null){Ext.Msg.alert(\"Alert\",\"No Data, Try it later again\");a.displayMenu()}else{a.self.links=[].concat(b);a.displayMenu()}",528480,34,528199,153,"OECDInfo.app.serviceRoot()+\"/api/\"+a+\"/20/\",callback:function(g,c){console.log(c);if(c==null){Ext.Msg.alert(\"Alert\",\"No Data, Try it later again\");b.displayList(1)}else{b.self.feeds=[].concat(c.feeds);b.displayList(1);var f=[],e=\"\";for(var d=0;d<c.feeds.length;d++){e=c.feeds[d].typeName;if(e!=\"Articles\"&&e!=\"Photos\"&&e!=\"Videos\"){f.push(c.feeds[d])}}}",528480,197,528716,98,"feeds:this.self.feed",528836,148,"Menu:function(){var a=Ext.getStore(\"MainStore\"),b=this.getList();b",529546,51,"a.removeAll();",529372,41,"true);a.setData(this.self.links);a.load()},loadMore",524053,124,",displayList:function(e){var h",529477,44,"if(e",529005,108,"f=this,g=this.self.pageSize;var j=function(l,i,n){var m=f.self.currentType;return(l.typeName==m)};var k",529216,70,"feeds:this.self.feeds.filter(j));var b=k.slice(((e-1)*g),e*g);if(k.length>b.length",524063,43,529413,59,"console.log(b);if(e",529540,60,"b.length==0){h.removeAll();h.setData(b);h.load()}else{h.removeAll();h.setData(b);h.load()}}else{h.add(b)}Ext.Viewport.setMasked(false);var c=[];for(var a=0;a<b.length;a++){if(b[a].typeName==\"Photos\"){c.push(b[a].image+\".jpg\")}}if(c.length>0){this.preloadImg(c)}},openLink",524638,41,529700,1364,"<strong>Theme: \"+i.getThemeByKey(e.theme)+\"</strong></h4><h4>Published at: ",531064,111,"<strong>Theme: \"+i.getThemeByKey(e.theme)+\"</strong></h4><h4>Published at:",531205,261,"k+='<div style=\"padding:10px\">'+d(e.content)+\"</div>\";",531585,1974,"24",533561,54,"float:left;",533615,203,"24",533820,55,"float:left;",533615,48,533923,112,"24",534037,53,"float:left;",533615,48,534138,36,"padding:12px 5px 5px 5px;float:right",533518,41,"28%;height:100%;\"><img src=\"resources/images/twitter_32.png\" width=30 style=\"vertical-align:middle;margin-right:4px;\"><a href=\"https://twitter.com/intent/user?screen_name='+s.screen_name+'\" target=\"_new\" style=\"text-decoration:none;font-size:smaller;color:black;\">Follow</a",534153,65,"font-size:smaller;color:gray;'+(f?\"padding:10px 15px 15px 10px;\":\"padding:10px;\")+'\"><h4><strong>Theme: '+i.getThemeByKey(e.theme)+\"</strong></h4><h4>Published at: \"+b(e.pubDate)+'</h4></div>",534206,43,"0px 15px 15px 15px;font-size:17px;\":\"line-height:120%;padding:0px 10px 10px ",534312,1275,"openShare",526735,35,"var a=this.getDetail().query(\"button[action=share]\")[0];this.self.actionsheet.showBy(a)}else{this.self.actionsheet.show()}",535636,113,"int",535755,399,"sorters:[{property:\"id\",direction:\"ASC\"}]",536153,538,";this.query(\"button[action=share]\")[0].hide();this.query(\"button[action=prev]\")[0].hide();this.query(\"button[action=next]\")[0].hide();this.query(\"button[action=email]\")[0].show();this.query(\"button[action=facebook]\")[0].show();this.query(\"button[action=twitter]\")[0].show()}else",536646,39,"show();this.query(\"button[action=share]\")[0].show();this.query(\"button[action=prev]\")[0].show();this.query(\"button[action=next]\")[0].show();this.query(\"button[action=email]\")[0].hide();this.query(\"button[action=facebook]\")[0].hide();this.query(\"button[action=twitter",536678,502,537246,130,"Share\",action:\"share\"},{text:\"Email\",action:\"email\"},{text:\"Facebook\",action:\"facebook\"},{text:\"Twitter\",action:\"twitter",537366,544,"prev",538528,46,538281,332,"email",538528,46,"email",538285,34,"facebook",538528,46,"facebook",538285,34,"twitter",538528,46,"twitter",538285,34,"clos",538527,47,538664,94,536600,33,"IsTablet()){var a=this.query(\"button[action=decline]\")[0];a.setHidden(true);this.setWidth(250);this.setModal(true);this.setHideOnMaskTap(true);this.setHeight(145);this.setShowAnimation({type:\"fadeIn\",duration:50});this.setHideAnimation({type:\"fadeOut\",duration:50})}this.callParent()},config:{isTablet:false,",538766,44,"console.log(b.action);var c=this.getParent();c.fireEvent(b.action+\"tap\",c.getData());c",538826,42,",action:\"email\"},{text:\"Facebook\",action:\"facebook\"},{text:\"Twitter\",action:\"t",538896,39,",action",538925,1372,"serviceRoot:function(){var a=location.protocol;console.log(a);if(a==\"file:\"){return\"http://test-oecdinfo.herokuapp.com\"}else{return\"\"}},launch:function(){var c=function(){var g={};var f=window.location.search.substring(1);var h=f.split(\"&\");for(var e=0;e<h.length;e++){var j=h[e].split(\"=\");if(typeof g[j[0]]===\"undefined\"){g[j[0]]=j[1]}else{if(typeof g[j[0]]===\"string\"){var d=[g[j[0]],j[1]];g[j[0]]=d}else{g[j[0]].push(j[1])}}}return g}();",540315,65,"var b=c.d;if(b==\"phone\"){this.isTablet=false}else{if(b==\"tablet\"){this.isTablet=true}else{if(a>500){this.isTablet=true}}",540408,41,"on(\"orientationchange\",function(){if(Ext.os.is.Android){Ext.Viewport.setSize(window.innerWidth,window.innerHeight)}}",540434,295]