["/*2527d4494394cdbb5f6783bdd5a2709c11678830",42,266308,"ActionSheet\",{extend:Ext.Sheet,alias:\"widget.action",265177,47,"-action\",left:0,right:0,bottom:0,centered:false,height:\"auto\",defaultType:\"button\"",265501,37,"top:0,bottom:null},{theme:[\"Blackberry\"],top:0,left:null,enter:\"right\",exit:\"right\",hideOnMaskTap:true,baseCls:\"bb-crosscut\",scrollable",293476,32,"middle\"},defaultType:\"button\",showAnimation:{easing:\"linear\",preserveEndState:true,to:{width:250}},hideAnimation:{easing:\"linear\",preserveEndState:true,to:{width:68}}}]",266331,12478,"Img\",{extend:Ext.Component,xtype:[\"image\",\"img\"],config:{src",404609,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"",419129,34,"a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",289069,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",401440,36,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",497142,38,"hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",251088,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",285643,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);",483052,33,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(",338054,36,"detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement;",401072,37,278809,30521,"carousel.Item\",{extend:Ext.Decorator,config:{baseCls:\"x-carousel-item\",component:null,translatable:true}});Ext.define(\"Ext.carousel.Indicato",414424,32,"carouselindicator\",alternateClassName:\"Ext.Carousel.Indicator",265182,37,"carousel-indicator\",direction:\"horizontal\"",413447,49,"dicators=[];this.element.on({tap:\"onTap\",scope:this})}",412989,79,"c,a,b);if(a===\"horizontal\"){this.setBottom(0);this.setRight(null)}else{this.setRight(0);this.setBottom(null)}},addIndicator:function(){this.indicators.push(this.element.createChild({tag:\"span\"}))},removeIndicator:function(){var a=this.indicators;if(a.length>0){a.pop().destroy()}},setActiveIndex:function(b){var e=this.indicators,d=this.activeIndex,a=e[d],f=e[b],c=this.getBaseCls();if(a){a.removeCls(c,null,\"active\")}if(f){f.addCls(c,null,\"active\")}this.activeIndex=b;return this},onTap:function(f){var g=f.touch,a=this.element.getPageBox(),d=a.left+(a.width/2),b=a.top+(a.height/2),c=this.getDirection();if((c===\"horizontal\"&&g.pageX>=d)||(c===\"vertical\"&&g.pageY>=b)){this.fireEvent(\"next\",this)}else{this.fireEvent(\"previou",451513,34,"d=this.indicators,b,c,a;for(b=0,c=d.length;b<c;b++){a=d[b];a.destroy()}d.length=0;",401072,37,"util.TranslatableGroup",152814,32,"Abstract,config:{items:[],activeIndex:0,itemLength:{x:0,y:0}},applyItems:function(a){return Ext.Array.from(a)},doTranslate:function(n,m){var l=this.getItems(),p=this.getActiveIndex(),j=this.getItemLength(),d=j.x,c=j.y,h=typeof n==\"number\",g=typeof m==\"number\",e,f,k,o,b,a;for(f=0,k=l.length;f<k;f++){o=l[f];if(o){e=(f-p);if(h){b=n+e*d}if(g){a=m+e*c}o.translate(b,a)}}}});Ext.define(\"Ext.carousel.Carous",259694,50,"Carousel\",xtype:\"carousel\",config:{baseCls:\"x-carousel\",direction:\"horizontal\",directionLock:false,animation:{duration:250,easing:{type:\"ease-out\"}},indicator:true,ui:\"dark\",itemConfig:{},bufferSize:1,itemLength:null},itemLength:0,offset:0,flickStartOffset:0,flickStartTime:0,dragDirection:0,count:0,painted:false,activeIndex:-1,before",401161,39,154518,58,"scope:this});this.element.on(\"resize\",\"onSizeChange\",this);this.carouselItems=[];this.orderedCarouselItems=[];this.inactiveCarouselItems=[];this.hiddenTranslation=0},updateBufferSize:function(n){var l=Ext.carousel.Item,h=n*2+1,m=this.isRendered(),c=this.innerElement,g=this.carouselItems,f=g.length,e=this.getItemConfig(),d=this.getItemLength(),j=this.getDirection(),b=j===\"horizontal\"?\"setWidth\":\"setHeight\",a,k;for(a=f;a<h;a++){k=Ext.factory(e,l);if(d){k[b].call(k,d)}k.setLayoutSizeFlags(this.LAYOUT_BOTH);g.push(k);c.append(k.renderElement);if(m&&k.setRendered(true)){k.fireEvent(\"renderedchange\",this,k,true)}}this.getTranslatable().setActiveIndex(n)},setRendered:function(g){var a=this.rendered;if(g!==a){this.rendered=g;var b=this.items.items,d=this.carouselItems,c,f,e;for(c=0,f=b.length;c<f;c++){e=b[c];if(!e.isInnerItem()){e.setRendered(g)}}for(c=0,f=d.length;c<f;c++){d[c].setRendered(g)}return true}return false},onSizeChange:function(){this.refreshSizing();this.refreshCarouselItems();this.refreshActiveItem()},onItemAdd:function(c,",292999,34,"d=this.getInnerItems().indexOf(c),a=this.getIndicator();if(a&&c.isInnerItem()){a.addIndicator()}if(d<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.isIndexDirty(d)&&!this.isItemsInitializing){this.refreshActiveItem()}},doItemLayoutAdd:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},onItemRemove:function(f,",292999,34,"h=this.getInnerItems().indexOf(f),a=this.getIndicator(),d=this.carouselItems,c,e,g;if(f.isInnerItem()&&a){a.removeIndicator()}if(h<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.isIndexDirty(h)){for(c=0,e=d.length;c<e;c++){g=d[c];if(g.getComponent()===f){g.setComponent(null)}}this.refreshActiveItem()}},doItemLayoutRemove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},onInnerItemMove:function(b,c,a){if((this.isIndexDirty(c)||this.isIndexDirty(a))){this.refreshActiveItem()}},doItemLayoutMove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},isIndexDirty:function(b){var a=this.getActiveIndex(),c=this.getBufferSize();return(b>=a-c&&b<=a+c)},getTranslatable",153860,39,153523,49,"Group;a.setItems(this.orderedCarouselItems);a.on(\"animationend\",\"onAnimationEnd\",this)}return a},onDragStart:function(f){var d=this.getDirection(),b=f.absDeltaX,a=f.absDeltaY,c=this.getDirectionLock();this.isDragging=true;if(c){if((d===\"horizontal\"&&b>a)||(d===\"vertical\"&&a>b)){f",227705,54,229608,38,";this.dragStartOffset=this.offset;this.dragDirection=0},onDrag:function(j",156862,34,"k=this.dragStartOffset,l=this.getDirection(),m=l===\"horizontal\"?j.deltaX:j.deltaY,a=this.offset,i=this.flickStartTime,c=this.dragDirection,b=Ext.Date.now(),h=this.getActiveIndex(),f=this.getMaxItemIndex(),d=c,g;if((h===0&&m>0)||(h===f&&m<0)){m*=0.5}g=k+m;if(g>a){c=1}else{if(g<a){c=-1}}if(c!==d||(b-i)>300){this.flickStartOffset=a;this.flickStartTime=b}this.dragDirection=c;this.setOffset(g)},onDragEnd:function(j",157054,42,"j);this.isDragging=false;var a=Ext.Date.now(),i=this.itemLength,g=i/2,f=this.offset,m=this.getActiveIndex(),c=this.getMaxItemIndex(),h=0,l=f-this.flickStartOffset,b=a-this.flickStartTime,k=this.getIndicator(),d;if(b>0&&Math.abs(l)>=10){d=l/b;if(Math.abs(d)>=1){if(d<0&&m<c){h=-1}else{if(d>0&&m>0){h=1}}}}if(h===0){if(m<c&&f<-g){h=-1}else{if(m>0&&f>g){h=1}}}if(k){k.setActiveIndex(m-h)}this.animationDirection=h;this.setOffsetAnimated(h*i)},applyAnimation:function(a){a.easing=Ext.factory(a.easing,Ext.fx.easing.EaseOut);",223960,49,"getIndicator();this.currentAxis=(b===\"horizontal\")?\"x\":\"y\";if(a){a.setDirection(b)}},setOffset:function(a){this.offset=a",157504,33,"Axis(this.currentAxis,a+this.itemOffset);return this},setOffsetAnimated:function(b){var a=this.getIndicator();if(a){a.setActiveIndex(this.getActiveIndex()-this.animationDirection)}this.offset=b",157504,33,"Axis(this.currentAxis,b+this.itemOffset,this.getAnimation());return this},onAnimationEnd:function(b){var c=this.getActiveIndex(),a=this.animationDirection,e=this.currentAxis,f=b[e],d=this.itemLength,g;if(a===-1){g=d+f}else{if(a===1){g=f-d}else{g=f}}g-=this.itemOffset;this.offset=g;this.setActiveItem(c-a",157725,34,"Sizing();this.refreshActiveItem()},refreshSizing:function(){var a=this.element,b=this.getItemLength(),e={x:0,y:0},c,d;if",190789,35,"){d=a.getWidth()}else{d=a.getHeight()}this.hiddenTranslation=-d;if(b===null){b=d;c=0}else{c=(d-b)/2}this.itemLength=b;this.itemOffset=c;e[this.currentAxis]=b;this.getTranslatable().setItemLength(e)},refreshOffset:function(){this.setOffset(this.offset)},refreshActiveItem:function(){this.doSetActiveItem(this.getActiveItem())},getActiveIndex:function(){return this.activeIndex},refreshActiveIndex:function(){this.activeIndex=this.getInnerItemIndex(this.getActiveItem())},refreshCarouselItems:function(){var a=this.carousel",183513,47,"c.getTranslatable().refresh()}this.refreshInactiveCarouselItems()},refreshInactiveCarouselItems:function(){var a=this.inactiveCarouselItems,f=this.hiddenTranslation,c=this.currentAxis,b,e,d;for(b=0,e=a.length;b<e;b++){d=a[b];d.translateAxis(c,f)}},getMaxItemIndex",254754,34,".length-1},getInnerItemIndex",252572,48,"getInnerItemAt",252572,35,"[a]},applyActiveItem:function(){var b=this.callParent(arguments),a;if(b){a=this.getInnerItemIndex(b);if(a!==-1){this.activeIndex=a;return b}}},doSetActiveItem:function(g){var q=this.getActiveIndex(),e=this.getMaxItemIndex(),m=this.getIndicator(),c=this.getBufferSize(),k=this.carouselItems.slice(),n=this.orderedCarouselItems,p={},o={},a,l,b,f,h,j,d;if(k.length===0){return}this.callParent(arguments);n.length=0;if(g){b=g.getId();o[b]=g;p[b]=c;if(q>0){for(f=1;f<=c;f++){h=q-f;if(h>=0){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c-f}else{break}}}if(q<e){for(f=1;f<=c;f++){h=q+f;if(h<=e){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c+f}else{break}}}for(f=0,j=k.length;f<j;f++){d=k[f];l=d.getComponent();if(l){b=l.getId();if(p.hasOwnProperty(b)){k.splice(f,1);f--;j--;delete o[b];n[p[b]]=d}}}for(b in o){if(o.hasOwnProperty(b)){a=o[b];d=k.pop();d.setComponent(a);n[p[b]]=d}}}this.inactiveCarouselItems.length=0;this.inactiveCarouselItems=k;this.refreshOffset();this.refreshInactiveCarouselItems();if(m){m.setActiveIndex(q)}},next:function(){this.setOffset(0);if(this.activeIndex===this.getMaxItemIndex()){return this}this.animationDirection=-1;this.setOffsetAnimated(-this.itemLength);return this},previous:function(){this.setOffset(0);if(this.activeIndex===0){return this}this.animationDirection=1;this.setOffsetAnimated(this.itemLength);return this},applyIndicator",220030,40,"carousel.Indicator",279534,33,"if(a){this.insertFirst(a);a.setUi(this.getUi());a.on({next:\"next\",previous:\"previous\",scope:this}",451520,34,"carouselItems.slice();this.carouselItems.length=0;Ext.destroy(a,this.getIndicator(),this.translatable);this.callParent();delete this.carouselItems",288752,33,"mixin",215632,35,309370,163022,"ield.Checkbox\",{extend:Ext.field.Field,alternateClassName:\"Ext.form.Checkbox\",xtype:\"checkboxfield\",qsaLeftRe:/[\\[]/g,qsaRightRe:/[\\]]/g,isCheckbox:true,config:{ui:\"checkbox\",value:\"\",checked:false,tabIndex:-1",289007,32,"checkbox\",useMask:true,cls:Ext.baseCSSPrefix+\"input-checkbox\"}",265501,37,"labelAlign:\"left\"}],initialize:function(){var b=this,a=b.getComponent();b.callParent();a.on({scope:b,order:\"before\",masktap:\"onMaskTap\"});a.doMaskTap=Ext.emptyFn;b.label.on({scope:b,tap:\"onMaskTap\"})},doInitValue:function(){var a=this,b=a.getInitialConfig();if(b.hasOwnProperty(\"value\")){a.originalState=b.value}if(b.hasOwnProperty(\"checked\")){a.originalState=b.checked}a.callParent(arguments",290270,148,"getChecked:function(){this._checked=this.getComponent().getChecked();return this._checked},getSubmitValue:function(){return(this.getChecked())?Ext.isEmpty(this._value)?true:this._value:null",284001,44,"a",284065,50,"getComponent().setChecked(a);if(",282815,32,")}},onMaskTap:function(a,c){var b=this,d=b.getComponent().input.dom;if(b.getDisabled()){return false}d.checked=!d.checked;b.onChange(c);return false},onChange:function(d){var c=this,b=c._checked,a=c.getChecked();if(b!=a){if(a){c.fireEvent(\"check\",c,d)}else{c.fireEvent(\"uncheck\",c,d)}c.fireEvent(\"change\",c,a,b)}},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(true)},uncheck:function(){return this.setChecked(false)},getSameGroupFields:function(){var j=this.up(\"formpanel\")||this.up(\"fieldset\"),b=this.getName(),g=this.qsaLeftRe,c=this.qsaRightRe,f=[],a,d,e,h;if(!j){j=Ext.Viewport}b=b.replace(g,\"\\\\[\");b=b.replace(c,\"\\\\]\");a=Ext.query(\"[name=\"+b+\"]\",j.element.dom);h=a.length;for(e=0;e<h;e++){d=a[e];d=Ext.fly(d).up(\".x-field\");if(d&&d.id){f.push(Ext.getCmp(d.id))}}return f},getGroupValues:function(){var a=[];this.getSameGroupFields().forEach(function(b){if(b.getChecked()){a.push(b.getValue())}});return a},setGroupValues:function(a){this.getSameGroupFields().forEach(function(b){b.setChecked((a.indexOf(b.getValue())!==-1))});return this},resetGroupValues:function(){this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)});return this},reset:function(){this.setChecked(this.originalState)",434192,32,"field.Search",292642,32,"search",288832,36,"Search\",config:{component:{type:\"search\"},ui:\"search\"},platformConfig:[{platform:\"blackberry\",component:{type:\"text\"}}]});Ext.define(\"Ext.form.FieldSet\",{extend:Ext.Container,alias:\"widget.fields",265180,39,"form-fieldset\",title:null,instructions:null",280312,58,"}}Ext.applyIf(a,{docked:\"top\",baseC",295079,58,"itle,this._title",280432,53,"this.remove(a)}},getTitle:function(){var a=this._title;if(a&&a instanceof Ext.Title){return a.getTitle()}return a},applyInstructions",294862,71,"bottom\",baseCls:this.getBaseCls()+\"-instructions\"});",280386,36,"_instructions)},updateInstructions",280446,39,"this.remove(a)}},getInstructions:function(){var a=this._instructions;if(a&&a instanceof Ext.Title){return a.getTitle()}return a",284265,33,"getFieldsAsArray().forEach(function(b){b.setDisabled(a)});return this},getFieldsAsArray:function(){var a=[],b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.getItems().each(b)}};this.getItems().each(b);return a}});Ext.define(\"Ext.form.Panel\",{alternateClassName:\"Ext.form.FormPanel\",extend:Ext.Panel,xtype:\"formpanel",265182,37,"form\",standardSubmit:false,url:null,baseParams:null,submitOnAction:false,record:null,method:\"post\",scrollable:{",221977,33,"scrollposition\"}},trackResetOnLoad:false",240288,56,"tag=\"form\";a.children.push({tag:\"input\",type:\"submit\",style:\"visibility: hidden;\"});return a",289069,52,"element.on({submit:\"onSubmit\",scope:a})},updateRecord:function(c){var a,b,d;if(c&&(a=c.fields)){b=this.getValues()",365676,35,"&&a.containsKey(d)){c.set(d,b[d])}}}return this},setRecord:function(a){var b=this;if(a&&a.data){b.setValues(a.data)}b._record=a;return this},onSubmit:function(b){var a=this;if(b&&!a.getStandardSubmit()){b.stopEvent()}else{this.submit(null,b)}},updateSubmitOnAction:function(a){if(a){this.on({action:\"onFieldAction\",scope:this})}else{this.un({action:\"onFieldAction\",scope:this})}},onFieldAction:function(a){if(this.getSubmitOnAction()){a.blur();this.submit()}},submit:function(a,f){var c=this,b=c.element.dom||{},d;a=Ext.apply({url:c.getUrl()||b.action,submit:false,method:c.getMethod()||b.method||\"post\",autoAbort:false,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{});d=c.getValues(c.getStandardSubmit()||!a.submitDisabled);return c.fireAction(\"beforesubmit\",[c,d,a,f],\"doBeforeSubmit\")},doBeforeSubmit:function(f,h,b){var e=f.element.dom||{};if(f.getStandardSubmit()){if(b.url&&Ext.isEmpty(e.action)){e.action=b.url}var a=this.query(\"spinnerfield\"),d=a.length,c,g;for(c=0;c<d;c++){g=a[c];if(!g.getDisabled()){g.getComponent().setDisabled(false)}}e.method=(b.method||e.method).toLowerCase();e.submit()}else{if(b.waitMsg){f.setMasked(b.waitMsg)}return Ext.Ajax.request({url:b.url,method:b.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},f.getBaseParams()||{}),b.params||{},h)),autoAbort:b.autoAbort,headers:Ext.apply({\"Content-Type\"",266631,51,"},b.headers||{}),scope:f,callback:function(i,o,j){var m=this,n=j.responseText,l=Ext.Ajax.parseStatus(j.status,j),k;m.setMasked(false);k=function(){if(Ext.isFunction(b.failure)){b.failure.call(b.scope||m,m,j,n)}m.fireEvent(\"exception\",m,j)};if(o){if(l&&n.length==0){o=true}else{j=Ext.decode(n);o=!!j.success}if(o){if(Ext.isFunction(b.success)){b.success.call(b.scope||m,m,j,n)}m.fireEvent(\"submit\",m,j)}else{k()}}else{k()}}})}},setValues:function(k){var c=this.getFields(),g=this,a,h,j,e,b,d;k=k||{};for(a in k){if(k.hasOwnProperty(a)){h=c[a];j=k[a];if(h){if(Ext.isArray(h)){e=h.length;for(b=0;b<e;b++){d=h[b];if(d.isRadio){d.setGroupValue(j);break}else{if(d.isCheckbox){if(Ext.isArray(j)){d.setChecked((j.indexOf(d._value)!=-1))}else{d.setChecked((j==d._value))}}else{if(Ext.isArray(j)){d.setValue(j[b])}}}}}else{if(h.isRadio||h.isCheckbox){h.setChecked(j)}else{h.setValue(j)}}if(g.getTrackResetOnLoad()){h.resetOriginalValue()}}}}return this},getValues:function(g,l){var f=this.getFields(),m={},e=Ext.isArray,j,k,b,c,a,h,d;b=function(n,i){if(!l&&(!i||i===\"null\")){return}if(n.isCheckbox){k=n.getSubmitValue()}else{k=n.getValue()}if(!(g&&n.getDisabled())){if(n.isRadio){if(n.isChecked()){m[i]=k}}else{c=m[i];if(!Ext.isEmpty(c)){if(!e(c)){c=m[i]=[c]}if(e(k)){c=m[i]=c.concat(k)}else{c.push(k)}}else{m[i]=k}}}};for(a in f){if(f.hasOwnProperty(a)){j=f[a];if(e(j)){h=j.length;for(d=0;d<h;d++){b(j[d],a)}}else{b(j,a)}}}return m},reset:function(){this.getFieldsAsArray().forEach(function(a){a.reset()});return this",284265,33,"getFieldsAsArray().forEach(function(b){b.setDisabled(a)});return this},getFieldsAsArray:function(){var a=[],b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.getItems().each(b)}};this.getItems().each(b);return a},getFields:function(b){var a={},d;var c=function(e){if(e.isField){d=e.getName();if((b&&d==b)||typeof b==\"undefined\"){if(a.hasOwnProperty(d)){if(!Ext.isArray(a[d])){a[d]=[a[d]]}a[d].push(e)}else{a[d]=e}}}if(e.isContainer){e.items.each(c)}};this.getItems().each(c);return(b)?(a[b]||[]):a},getFieldsArray:function(){var a=[];var b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.items.each(b)}};this.items.each(b);return a},getFieldsFromItem:Ext.emptyFn,showMask:function(a,b){a=Ext.isObject(a)?a.message:a;if(a",410129,47,"else{this.setMasked(true)}return this},hideMask",409616,33,";return this},getFocusedField:function(){var a=this.getFieldsArray(),c=a.length,d,b;for(b=0;b<c;b++){d=a[b];if(d.isFocused){return d}}return null},getNextField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==a.length-1){b++;return a[b]}}return false},focusNextField:function(){var a=this.getNextField();if(a){a.focus();return a}return false},getPreviousField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==0){b--;return a[b]}}return false},focusPreviousField:function(){var a=this.getPreviousField();if(a){a.focus();return a}",288740,46,472392,27576,"Log",499972,37,"loglist\",requires:[],config:{store:\"Main",500038,51,"scrollToTopOnRefresh:false,pinHeaders:true,grouped:true,plugins:[]",500139,45,"Popular Articles\",ui:\"light\"},{xtype:\"panel\",height:80,scrollDock:\"bottom\",docked:\"bottom\",padding:15,hidden:true,width:\"100%\",items:[{xtype:\"button\",width:\"50%\",centered:true,text:'<span style=\"font-size:smaller;\">Load More...</span>'",500814,43,"There is no d",500861,87,"min-height:12",501462,40,500984,49,"20px;height:120",501610,32,"130px;\">','<div><tpl if=\"this.isTypeAll()\"",502272,58," : </span></tpl>{title:ellipsis(80, true)",501195,115,"9",501312,392,"<tpl if=\"this.isTypeAll()\">{typeName}</tpl> @{userInfo.screen_n",501710,259,"tpl if=\"this.isTypeAll()\"",502272,58," : </span></tpl>",501189,122,"3",501312,80,502238,36,"tpl if=\"this.isTypeAll()\"",502272,58," : </span></tpl>",501189,122,"3",502463,207,"Photos",502607,37,"TypeAll:function(){if(OECDInfo.app.currentType==\"All",502607,34,"})},fireLoadmore:function(){this.fireEvent(\"loadmoretap\")}});Ext.define(\"OECDInfo.view.Menu\",{extend:Ext.Panel,alias:\"widget.menu\"",405448,40,"},config:{width:230,zIndex:1001,hidden:true,modal:true,hideOnMaskTap:true,layout:\"fit\",style:\"border-right:solid 1px gray\",showA",483481,34,"right\",duration:150}",500139,38,"ui:\"light\",items:[{xtype:\"searchfield\",width:\"93%\",listeners:{keyup:function(b,c,a){if(c.e",286522,34,"searchtap\",b.getValue())}},clearicontap:function(b,c,a){this.fireEvent(\"cleartap\")}}}]},{xtype:\"list\",id:\"menu\",cls:\"fb x-slideview-container-left\",itemHeight:46,data:[{name:\"All Feeds\"},{name:\"News\"},{name:\"Articles\"},{name:\"Publications\"},{name:\"Twitter\"},{name:\"Photos\"},{name:\"Videos\"},{name:\"Links\"}],itemTpl:'<span class=\"menuicon {name}\"></span> <span class=\"menutext\">{name}</span>',items:[{xtype:\"panel\",scrollDock:\"bottom\",style:\"margin-bottom:100px;\",items:[{xtype:\"button\",ui:\"confirm\",action:\"open\",text:\"Edit Subscribtion\",style:\"margin:10px;font-size:smaller;\"}]},{xtype:\"panel\",scrollDock:\"bottom\",action:\"pnlTheme\"},{xtype:\"panel\",height:30,html:\"Subscribed themes\",scrollDock:\"bottom\",style:\"background-color:#c4c4c4;padding:5px 0px 5px 0px;color:#ffffff;text-align:center;\"}],listeners:{itemtap:function(b,a){this.fireEvent(\"typetap\",OECDInfo.app.menus[a])},initialize:function(a){a.select(0)}}}]}});Ext.define(\"OECDInfo.view.Main",499972,37,"mainlist\",requires:[],config:{store:\"MainStore\",id:\"list",500043,46,"scrollToTopOnRefresh:false,pinHeaders:true,grouped:true,plugins:[]",500139,66,",height:\"48px\",items:[{xtype:\"button\",iconCls:\"more\",action:\"menu\"},{xtype:\"spacer\"},{xtype:\"button\",iconCls:\"refresh\",action:\"refresh\"}]},{xtype:\"panel\",height:45,padding:10,docked:\"top\",hidden:true,action:\"search\",items:[{xtype:\"button\",action:\"search\",iconCls:\"delete\",width:51,top:\"11%\",right:7,height:\"78%\"}]},{xtype:\"panel\",height:80,scrollDock:\"bottom\",docked:\"bottom\",padding:15,hidden:true,width:\"100%\",items:[{xtype:\"button\",width:\"50%\",centered:true,action:\"loadmore\",text:'<span style=\"font-size:smaller;\">Load More...</span>'",500814,43,"There is no d",500861,87,"min-height:12",501462,40,500984,49,"20px;height:120",501610,32,"130px;\">','<div><tpl if=\"this.isTypeAll()\"><span class=\"typeName\">{typeName} : </span></tpl",501759,92,501405,258,"class=\"typeName\"><tpl if=\"this.isTypeAll()\">{typeName}</tpl> @{userInfo.screen_n",501710,259,"tpl if=\"this.isTypeAll()\"><span class=\"typeName\">{typeName} : </span></tpl>",501189,122,"3",501312,80,502238,36,"tpl if=\"this.isTypeAll()\"><span class=\"typeName\">{typeName} : </span></tpl>",501189,122,"3",502463,207,"Photos",502607,37,"TypeAll:function(){if(OECDInfo.app.currentType==\"All",502607,34,"})},fireLoadmore:function(){this.fireEvent(\"loadmoretap\")}});Ext.define(\"OECDInfo.view.Main\",{extend:Ext.Container,alias:\"widget.main\",config:{layout:\"hbox\",items:[{xtype:\"menu\",width:230,hidden:false,modal:false,hideOnMaskTap:false},{xtype:\"mainlist\",flex:1}]}});Ext.define(\"OECDInfo.controller.Mai",305266,38,"refs:{main:\"main\",list:\"mainlist\",listtop:\"mainlist toolbar\",loadmore:'mainlist panel button[action=\"loadmore\"]',menu:\"menu\",pnlTheme:'menu panel[action=\"pnlTheme\"]',openTheme:'menu panel button[action=\"open\"]',cancelTheme:'theme button[action=\"cancel\"]',saveTheme:'theme button[action=\"save\"]',menulist:\"#menu\",menutheme:\"#theme\",menuBtn:'mainlist toolbar button[action=\"menu\"]',searchfield:\"menu toolbar searchfield\",searchresult:'mainlist panel[action=\"search\"]',searchclear:'mainlist panel button[action=\"search\"]',refreshBtn:'mainlist toolbar button[action=\"refresh\"]',detail:\"#detail\",share:\"share\",tabletPrev:\"#btnPrev\",tabletNext:\"#btnNext\"},routes:{home:\"closeDialog\"},control:{list:{itemsingletap:function(d,b,g,a,f,c){console.log(d);console.log(b);console.log(a.data);console.log(f);console.log(g);if(f.target.className==\"link\"){this.getList().deselect(b);this.openLink(f.target.innerText)}else{this.self.currentIndex=b;if(a.data.typeName==\"Links\"){this.openLink(a.data.link)}else{this.openDetail(a.data);this.callLogItem(a.data)}}},loadmoretap:function(){}},listtop:{toptap:function(){alert(\"a\")}},searchfield:{searchtap:function(a){this.callService(this.getTheme(),a)}},searchclear:{tap:function(){this.controlSearchBox();this.getSearchfield().setValue(\"\");this.callServiceOffline()}},loadmore:{tap:function(){this.loadMore()}},tabletPrev:{tap:function(){var a=this.getDataByIndex(\"prev\",this.self.currentIndex);if(a==\"first\"){Ext.Msg.alert(\"\",\"This is the first item\")}else{this.self.currentIndex--;this.scrollListSelected();this.openDetail(a)}}},tabletNext:{tap:function(){var a=this.getDataByIndex(\"next\",this.self.currentIndex);if(a==\"last\"){Ext.Msg.alert(\"\",\"This is the last item\")}else{if((this.self.currentIndex+3)==(this.self.currentPage*this.self.pageSize)-1){this.loadMore()}this.self.currentIndex++;this.scrollListSelected();this.openDetail(a)}}},detail:{hide:function(){var a=this;console.log(this.self.currentIndex);if(this.self.currentIndex>-1&&!this.self.isTablet){this.scrollListSelected()}if(this.self.isTablet){this.closeTabletNavi();this.stopVideo()}setTimeout(function(){a.getList().deselectAll()},1000)},hidetap:function(){this.closeDetail()},prevtap:function(){this.naviDetail(\"prev\")},nexttap:function(){this.naviDetail(\"next\")},sharetap:function(){this.openShare()},opentap:function(a){var b=this.self.detail.getData();if(b.typeName==\"Twitter\"){a=this.getUrl(b)}else{a=a}this.openLink(a)},providertap:function(b){var a=this.self.detail;this.controlProvider(b)},emailtap:function(){this.shareEmail()},facebooktap:function(){this.shareFacebook()},twittertap:function(){this.shareTwitter()}},menuBtn:{tap:function(b,c,a){console.log(this.getMenu());if(this.getMenu().getHidden()){this.openMenu()}else{this.closeMenu()}}},refreshBtn:{tap:function(b,c,a){this.callService(this.getTheme())}},menulist:{typetap:function(a){var b=(a==\"All\"?OECDInfo.app.label:a);toolbar=this.getList().query(\"toolbar\")[0];toolbar.setTitle(b);this.self.currentType=a;OECDInfo.app.currentType=a;if(a==\"Links\"){this.callLinks()}else{this.displayList(1)}if(!this.self.isTablet){this.closeMenu()}}},openTheme:{tap:function(){this.openTheme()}},saveTheme:{tap:function(){this.saveTheme()}},cancelTheme:{tap:function(){this.closeTheme()}},share:{emailtap:function(){this.self.actionsheet.hide();this.shareEmail()},facebooktap:function(){this.self.actionsheet.hide();this.shareFacebook()},twittertap:function(){this.self.actionsheet.hide();this.shareTwitter()}}}},statics:{currentType:\"\",currentPage:1,currentIndex:-1,pageSize:40,feeds:[],feed:[],links:[],detail:null,menu:null,theme:null,actionsheet:null,isTablet:false},init:function(){this.callLogIni",392645,32,"launch",439158,44,"setLocation(\"home\");this.initOptions()},naviDetail:function(b){var a=this.getDataByIndex(b,this.self.currentIndex);if(b==\"prev\"){if(a==\"first\"){Ext.Msg.alert(\"\",\"This is the first item\")}else{this.self.currentIndex--;this.scrollListSelected(this.self.currentIndex);this.openDetail(a)}}else{if(b==\"next\"){if(a==\"last\"){Ext.Msg.alert(\"\",\"This is the last item\")}else{this.loadWhenlast();this.self.currentIndex++;this.scrollListSelected(this.self.currentIndex);this.openDetail(a)}}}},checkKey:function(b,a){b=b||window.event;if(a.self.detail.getHidden()){if(b.keyCode==\"38\"){if(a.self.currentIndex==0){a.self.currentIndex=-1;a.getList().deselect(0)}else{if(a.self.currentIndex==1){a.self.currentIndex--;a.getList().deselect(1);a.getList().select(0)}else{if(a.self.currentIndex>1){a.self.currentIndex--;a.scrollListSelected()}}}}else{if(b.keyCode==\"40\"){if(a.self.currentIndex==-1){a.self.currentIndex++;a.getList().select(0)}else{a.self.currentIndex++;this.loadWhenlast();a.scrollListSelected()}}else{if(b.keyCode==\"13\"){console.log(b);if(b.target.className.toString().indexOf(\"search\")==-1){a.openDetail(a.self.feeds[a.self.currentIndex])}}}}}else{if(b.keyCode==\"37\"){a.naviDetail(\"prev\")}else{if(b.keyCode==\"39\"){a.naviDetail(\"next\")}}}},callLogInit:function(){var a=this;Ext.data.JsonP.request({url:\"http://smart-ip.net/geoip-json\",timeout:20000,callback:function(d,b){var c={ip:(b==null?\"\":b.host),deviceType:Ext.os.deviceType,os:Ext.os.name,osversion:Ext.os.version,country:(b==null?\"\":b.countryName),countryCode:(b==null?\"\":b.countryCode),city:(b==null?\"\":b.city),createdat:(new Date())};Ext.Ajax.request({url:OECDInfo.app.serviceRoot()+\"/log/init\",method:\"POST\",params:c,callback:function(f,e){}})}})},callLogTheme:function(a){Ext.Ajax.request({url:OECDInfo.app.serviceRoot()+\"/log/theme\",method:\"POST\",params:{themes:a},callback:function(c,b){}})},callLogItem:function(a){Ext.Ajax.request({url:OECDInfo.app.serviceRoot()+\"/log/item\",method:\"POST\",params:{typeName:a.typeName,title:a.title,image:a.image,pubdate:a.pubDate},callback:function(c,b){}})},closeDialog:function(){if(!Ext.os.is.iOS&&!OECDInfo.app.isInitial){if(!this.self.isTablet){this.closeMenu()}if(!this.self.theme.getHidden()){this.closeTheme()}if(!this.self.detail.getHidden()){this.closeDetail()}}},loadWhenlast:function(){if(this.self.currentIndex==(this.self.currentPage*this.self.pageSize)-1){this.loadMore()}},scrollListSelected:function(){var c=this.getList(),a=c.getViewItems(),b=a[this.self.currentIndex-1];if(b!==undefined){offset=b.bodyElement.dom.offsetTop-26;c.getScrollable().getScroller().scrollTo(0,offset);c.deselectAll();c.select(this.self.currentIndex)}},getLink:function(a){if(a==null){return\"\"}a=a.replace(/(http:\\/\\/[^\\s]*)/g,'<span class=\"link\" name=\"$1\">$1</span>');a=a.replace(/(www.[^\\s]*)/g,'<span class=\"link\" name=\"http://$1\">$1</span>');return a},getUrl:function(c){var b=false,e=c.title;if(c.typeName==\"Twitter\"){var d=e.indexOf(\"http://\");if(d>-1){e=e.substr(d);var a=e.indexOf('\"');b=e.substr(0,a)}else{b=false}console.log(b)}if(c.typeName!=\"Twitter\"&&!b){b=(c.link?c.link:false)}return b},preloadImg:function(c){for(var b=0;b<c.length;b++){var a=new Image();a.src=c[b]}},shareEmail:function(){var d=this.self.detail.getData(),c=\"mailto:?\",b=false,a=this.getUrl(d);if(d.title){b=true;if(d.typeName==\"Twitter\"){c+=\"subject=OECDInfo Tweet\"}else{c+=\"subject=\"+d.title}}if(a!=false){c+=(b?\"&\":\"\")+\"body=\"+a}this.openLink(c)},shareFacebook:function(){var b=this.self.detail.getData(),a=this.getUrl(b);if(!a){Ext.Msg.alert(\"Alert\",\"The link is not good, try again.\")}else{this.openLink(\"https://www.facebook.com/sharer/sharer.php?u=\"+a)}},shareTwitter:function(){var b=this.self.detail.getData(),a=this.getUrl(b);if(!a){Ext.Msg.alert(\"Alert\",\"The link is not good, try again.\")}else{this.openLink(\"https://twitter.com/intent/tweet?url=\"+a)}},checkTheme:function(a){console.log(this.getMenutheme().query(\"checkboxfield\"));var c=this.getMenutheme().query(\"checkboxfield\");for(var d=0;d<c.length;d++){for(var b=0;b<a.length;b++){if(c[d].getValue()==a[b]){c[d].check()}}}},labelTheme:function(a){console.log(a);var c=0;themesArray=OECDInfo.app.themes,html=\"\";for(var d=0;d<a.length;d++){for(var b=0;b<themesArray.length;b++){if(themesArray[b].key==a[d]){html+='<div style=\"padding:10px;font-size:smaller;\">'+themesArray[b].name+\"</div>\"}}}this.getPnlTheme().setHtml(html)},setLocation:function(b){if(!Ext.os.is.iOS){var a=location.href.toString();if(a.indexOf(\"#\")>-1){a=a.split(\"#\")[0]}location.href=a+\"#\"+b}},initOptions:function(){var b=this;console.log(this.self.isTablet);this.self.isTablet=OECDInfo.app.isTablet;var a=this.getTheme();OECDInfo.app.isInitial=(a==\"\"?true:false);if(this.self.isTablet){Ext.Viewport.on(\"orientationchange\",\"handleOrientationDetail\",this);this.self.theme=Ext.Viewport.add({xtype:\"theme\",fromTablet:true,hidden:(OECDInfo.app.isInitial?false:true),modal:true,hideOnMaskTap:true,width:770,height:540,centered:true});this.self.prev=Ext.Viewport.add({xtype:\"image\",id:\"btnPrev\",src:\"resources/images/arrow_left.png\",zIndex:10000,width:110,height:130,top:300,left:50});this.self.next=Ext.Viewport.add({xtype:\"image\",id:\"btnNext\",src:\"resources/images/arrow_right.png\",zIndex:10000,width:110,height:130,top:300,right:50});this.self.detail=Ext.Viewport.add({xtype:\"detail\",fromTablet:true,hidden:true,modal:true,hideOnMaskTap:true,width:400,height:\"80%\",centered:true,style:\"border:solid 1px black\",showAnimation:{type:\"pop\",duration:150},hideAnimation:{type:\"fadeOut\",duration:150}});this.preloadImg([\"resources/images/arrow_left.png\",\"resources/images/arrow_right.png\"])}else{this.self.theme=Ext.Viewport.add({xtype:\"theme\",hidden:(OECDInfo.app.isInitial?false:true),zIndex:10005,centered:true,width:\"100%\",height:\"100%\"});this.self.menu=Ext.Viewport.add({xtype:\"menu\"});this.self.detail=Ext.Viewport.add({xtype:\"detail\"});this.self.actionsheet=Ext.Viewport.add({xtype:\"share\"})}if(!OECDInfo.app.isInitial){this.labelTheme(a.split(\",\"));this.callService(a)}if(!Ext.os.is.iOS){document.onkeydown=function(c){b.checkKey(c,b)};this.getDetail().on(\"hide\",function(){b.setLocation(\"home\")});this.self.theme.on(\"hide\",function(){b.setLocation(\"home\")});if(this.self.isTablet){this.getMenu().on(\"hide\",function(){b.setLocation(\"home\")})}else{this.self.menu.on(\"hide\",function(){b.setLocation(\"home\")})}}},openTabletNavi:function(){this.self.prev.show();this.self.next.show()},closeTabletNavi:function(){this.self.prev.hide();this.self.next.hide()},getTheme:function(){var b=localStorage.getItem(\"themes\");var a=JSON.parse(b);return((a==\"\"||a==null)?\"\":a)},setTheme:function(a){localStorage.themes=JSON.stringify(a)},setFeeds:function(a){console.log(a);localStorage.feeds=JSON.stringify(a)},getFeeds:function(){var b=localStorage.feeds;var a=JSON.parse(b);return((a==\"\"||a==null)?[]:a)},openMenu:function(){if(this.self.isTablet){this.getMain().query(\"menu\")[0].setHidden(false)}else{this.setLocation(\"menu\");this.self.menu.show()}},closeMenu:function(){if(this.self.isTablet){this.getMain().query(\"menu\")[0].setHidden(true)}else{this.self.menu.hide()}},saveTheme:function(){var c=this.getMenutheme().query(\"checkboxfield\"),b=[];for(var d=0;d<c.length;d++){if(c[d].getChecked()){b.push(c[d].getValue())}}var a=b.join(\",\");this.labelTheme(b);this.setTheme(a);this.callService(a);this.closeTheme();if(!this.self.isTablet){this.closeMenu()}},openTheme:function(){console.log(this.self.theme.getHidden());this.self.theme.show();console.log(this.self.theme.getHidden());this.setLocation(\"theme\");var a=this.getTheme();this.checkTheme(a.split(\",\"))},closeTheme:function(){this.self.theme.hide()},handleOrientationDetail:function(){var a=window.innerWidth;if(a>800){this.self.prev.setTop(330);this.self.next.setTop(330);this.self.prev.setLeft(90);this.self.next.setRight(90);this.self.detail.setWidth(440);this.self.detail.setHeight(\"80%\")}else{this.self.prev.setTop(500);this.self.next.setTop(500);this.self.prev.setLeft(50);this.self.next.setRight(50);this.self.detail.setWidth(400);this.self.detail.setHeight(\"70%\")}},openDetail:function(b){this.setLocation(\"detail\");var d=this.self.isTablet,a=this.getDetailContent(b,d);detail=this.self.detail,currentData=detail.getData(),topmenu=detail.query(\"toolbar\")[0],carousel=detail.query(\"carousel\")[0],panel=detail.query(\"panel\"),type=b.typeName,userInfo=b.userInfo,html=\"\",panelTitle=panel[0],panelContent=panel[1],carousel1=carousel.getItems().items[1],carousel2=carousel.getItems().items[2];panelContent.getScrollable().getScroller().scrollTo(0,0);if(d){this.handleOrientationDetail();this.openTabletNavi()}detail.setData(b);topmenu.setTitle(type);carousel.setActiveItem(0);if(userInfo==null){carousel.setHidden(true);if(type==\"Photos\"){html=a.createFlickrBody();panelTitle.setHidden(true);panelContent.setHidden(false);panelContent.setHtml(html)}else{html=a.createBody();panelTitle.setHidden(false);panelTitle.setHtml(html[0]);if(b.provider){var c=a.createProvider();carousel1.setHtml(c[0]);carousel2.setHtml(c[1]);carousel.setHeight(130)}panelContent.setHtml(html[1])}}else{html=a.createTwitterBody();if(currentData==null||currentData.type!=type){carousel1.setHtml(html[0]);carousel2.setHtml(html[1]);if(d==true){carousel.setHeight(170)}else{carousel.setHeight(130)}}carousel.setHidden(false);panelTitle.setHidden(false);panelTitle.setHtml(html[2]);panelContent.setHtml(html[3])}detail.show()},closeDetail:function(){this.self.detail.hide()},stopVideo:function(){var b=Ext.DomQuery.select(\"iframe.video\");console.log(b);for(var a=0;a<b.length;a++){console.log(b[a]);var c=\"stopVideo\";b[a].contentWindow.postMessage('{\"event\":\"command\",\"func\":\"'+c+'\",\"args\":\"\"}',\"*\")}},callLinks:function(){var a=this;Ext.Viewport",410135,37,"\"Loading\",zIndex:100000});Ext.data.JsonP.request({url:OECDInfo.app.serviceRoot()+\"/api/links/\",callback:function(c,b){if(b==null){Ext.Msg.alert(\"Alert\",\"No Data, Try it later again\");a.displayMenu()}else{a.self.links=[].concat(b);a.displayMenu()}Ext.Viewport.setMasked(false)}})},callService:function(a,c){var d=this;Ext.Viewport",410135,37,"\"Loading\",zIndex:100000});console.log(a);console.log(c);var b=\"\";if(c!=undefined){b=OECDInfo.app.serviceRoot()+\"/api/\"+a+\"/60/\"+c}else{b=OECDInfo.app.serviceRoot()+\"/api/\"+a+\"/20/\"}Ext.data.JsonP.request({url:b,callback:function(k,e){console.log(e);OECDInfo.app.isInitial=false;var j=OECDInfo.app.menus;if(e==null){Ext.Msg.alert(\"Alert\",\"No Data, Try it later again\");d.displayList(1)}else{d.self.feeds=[].concat(e.feeds);console.log(\"in callService:\");d.controlSearchBox(c);d.displayList(1);for(var f=0;f<j.length;f++){if(j[f]!=\"All\"&&j[f]!=\"Links\"){console.log(d.self.feed[j[f]]);d.self.feed[j[f]]=[];console.log(d.self.feed[j[f]])}}for(var f=0;f<e.feeds.length;f++){if(e.feeds[f].typeName){d.self.feed[e.feeds[f].typeName].push(e.feeds[f])}}if(c==undefined){var h=[],g=\"\";for(var f=0;f<e.feeds.length;f++){g=e.feeds[f].typeName;h.push(e.feeds[f])}d.setFeeds(e.feeds)}else{if(!d.self.isTablet){d.closeMenu()}}}Ext.Viewport.setMasked(false);d.callLogTheme(a)}})},callServiceOffline:function(b){if(b){Ext.Msg.alert(\"Notice\",\"It seems there is no Internet connection, data will be loaded from the cache and some features might be limited.\")}var a=this.getFeeds();console.log(a);if(a){this.self.feeds=[].concat(a)}this.displayList(1)},filterFn:function(b,a,d){var c=this.self.currentType;return(b.typeName==c)},getDataByIndex:function(e,a){var b=this;var d=function(g,f,i){var h=b.self.currentType;return(g.typeName==h)};var c=((this.self.currentType==\"\"||this.self.currentType==\"All\")?this.self.feeds:this.self.feeds.filter(d));if(e==\"prev\"){if(a==0){return\"first\"}else{return c[a-1]}}else{if(e==\"next\"){if(a==c.length){return\"last\"}else{return c[a+1]}}}},displayMenu",500528,32,"MainStore\"),b=this.getList();b.getScrollable().getScroller().scrollTo(0,0,false);a.removeAll();this.getLoadmore().getParent().setHidden(true);a.setData(this.self.links);a.load()},loadMore:function(){this.getLoadmore().getParent().setHidden(true);console.log(\"called!\");this.displayList(++this.self.currentPage)},controlSearchBox:function(a){var b=this.getSearchresult();if(a==undefined){b.setHidden(true);this.getListtop().setTitle(OECDInfo.app.label)}else{this.getListtop().setTitle(\"Search Result\");b.setHidden(false);b.setHtml('<p style=\"color:black;\">\"'+a+'\" ('+this.self.feeds.length+\" items)</p>\")}},displayList:function(e){console.log(\"page:\"+e);var h=Ext.getStore(\"MainStore\"),d=this.getList();if(e==1){this.self.currentPage=1}Ext.Viewport",410135,37,"\"Loading\",zIndex:100000});var f=this,g=this.self.pageSize;var j=((this.self.currentType==\"\"||this.self.currentType==\"All\")?this.self.feeds:this.self.feed[this.self.currentType]);var b=j.slice(((e-1)*g),e*g);if(b.length<g){this.getLoadmore().getParent().setHidden(true)}else{this.getLoadmore().getParent().setHidden(false)}console.log(b);if(e==1){d.getScrollable().getScroller().scrollTo(0,0,false);if(b.length==0){h.removeAll();h.setData(b);h.load()}else{h.removeAll();h.setData(b);h.load()}}else{h.add(b)}Ext.Viewport.setMasked(false);var c=[];for(var a=0;a<b.length;a++){if(b[a].typeName==\"Photos\"){c.push(b[a].image+\".jpg\")}}if(c.length>0){this.preloadImg(c)}},openLink:function(d){if(Ext.os.is.Android){var b=window.document.createElement(\"a\");b.target=\"_blank\";b.href=d;var f=window.",457251,32,"s\");f.initMouseEvent(\"click\",true,true,window,0,0,0,0,0,false,false,false,false,0,null);b.dispatchEvent(f)}else{var c=window.open(d,\"_blank\",\"location=yes\")}},controlProvider:function(c){var a=this.self.detail,b=a.query(\"carousel\")[0];if(b.getHidden()){b.setHidden(false)}else{b.setHidden(true)}},getThemeByKey:function(d){var b=OECDInfo.app.themes,a=\"\";for(var c=0;c<b.length;c++){if(b[c].key==d){a=b[c].name;break}}return a},getDetailContent:function(e,f){var i=this;var c=function(l,k){if(l==null){return\"\"}l=l.replace(/(http:\\/\\/[^\\s]*)/g,'<span class=\"link\" name=\"$1\">$1</span>');l=l.replace(/(www.[^\\s]*)/g,'<span class=\"link\" name=\"http://$1\">$1</span>');l=l.replace(/(@[^\\s]*)/g,'<span class=\"at\" name=\"http://$1\">$1</span>');l=l.replace(/(#[^\\s]*)/g,'<span class=\"shap\" name=\"http://$1\">$1</span>');return l},d=function(k){k=k.replace(/<[\\/]{0,1}(a|A|iframe|Iframe|IFrame|IFRAME)[^><]*>/g,\"\");return k},b=function(p){p=(typeof p==\"string\"?new Date(p):p);if(p){var l=p.getDate(),o=p.getMonth(),n=p.getFullYear(),k=p.getDay(),m",503565,133,"m[k]+\", \"+(l.length==1?\"0\"+l:l)+\" \"+aMonth[o]+\", \"+n}};var a=function(){var m=e.image,l=e.typeName,n=\"\",k=\"\";if(m!=null&&m!=\"\"){n='<div class=\"header '+l+'\"><img src='+m+' style=\"float:left;width:'+(l==\"Youtube\"?\"60\":\"45\")+'px;-webkit-border-radius:5px;\"><div style=\"margin-left:'+(l==\"Youtube\"?\"70\":\"55\")+'px;\"><h3><strong>'+c(e.title)+'</strong></h3><h4 style=\"font-size:14px;\">'+i.getThemeByKey(e.theme)+\" | \"+b(e.pubDate)+\"</h4></div></div>\"}else{n=\"<div class=header \"+l+\"><h3><strong>\"+c(e.title)+'</strong></h3><h4 style=\"font-size:14px;\">'+i.getThemeByKey(e.theme)+\" | \"+b(e.pubDate)+\"</h4></div>\"}if(l==\"Videos\"&&f){k='<iframe class=\"video\" width=\"95%\" align=\"center\" height=\"280\" src='+e.link+'?enablejsapi=1\" frameborder=\"0\" allowfullscreen style=\"margin-left:auto;margin-right:auto;display:block;margin-top:10px;\"></iframe>'}k+='<div style=\"padding:10px\">'+d(e.content)+\"</div>\";return[n,k]},j=function(){var l=e.image,p=e.type,s=e.userInfo,m=\"\",k=\"\",r=\"\",n=\"\",t=(f?170:130),o=(f?90:60),q=(f?17:5),m='<div style=\"background-image:url('+s.profile_banner_url+\"/mobile);background-size:100%;height:\"+t+\"px;padding-top:\"+q+'px;background-color:#444;\"><div style=\"width:100%;height:'+o+\"px;position:absolute;top:\"+(t-o)+'px;background-image:-webkit-linear-gradient(top, rgba(0, 0, 0, 0) 0px, rgba(0, 0, 0, 0.54902) 100%);text-shadow: rgb(255, 255, 255) 0px 1px 0px;background-color: rgba(0, 0, 0, 0);background-origin: padding-box;\"></div><img src='+l+' style=\"display:block;-webkit-border-radius:5px;margin-top:7px;margin-left:auto;margin-right:auto;\"><div style=\"position:relative;padding:0px;margin-top:'+q+'px;color:white;text-align:center;text-shadow: rgba(0, 0, 0, 0.498039) 0px 1px 1px;\"><h3><strong style=\"font-size:larger;margin-bottom:5px;\">'+s.name+'</strong></h3><h4 style=\"padding:5px;\">@'+s.screen_name+\"</h4></div></div>\";k='<div style=\"background-image:url('+s.profile_banner_url+\"/mobile);background-size:100%;height:\"+t+'px;padding-top:5px;background-color:#444;\"><div style=\"width:100%;height:'+o+\"px;position:absolute;top:\"+(t-o)+'px;background-image:-webkit-linear-gradient(top, rgba(0, 0, 0, 0) 0px, rgba(0, 0, 0, 0.54902) 100%);text-shadow: rgb(255, 255, 255) 0px 1px 0px;background-color: rgba(0, 0, 0, 0);background-origin: padding-box;\"></div><div style=\"position:relative;margin-top:'+q+'px;color:white;text-align:center;text-shadow: rgba(0, 0, 0, 0.498039) 0px 1px 1px;\"><h4 style=\"margin-bottom:'+q+'px;\"><span class=link name='+s.url+' style=\"color:white;text-decoration:none;\">'+s.url+'</span></h4><h4 style=\"font-size:smaller\">'+s.description+\"</h4></div></div>\";r='<div style=\"height:50px;background-color:#fff;padding:0px;border-top:rgba(0,0,0, 0.0976563) solid 1px;border-bottom:rgba(0,0,0, 0.0976563) solid 1px;\"><span style=\"padding:5px 5px 5px 12px;float:left;border-right:rgba(0,0,0, 0.0976563) solid 1px;font-weight:bold;font-size:medium;width:24%;height:100%;\">'+s.statuses_count+'</br><span style=\"float:left;color:gray;font-weight:lighter;font-size:small\">Tweets</span></span><span style=\"padding:5px 5px 5px 12px;float:left;border-right:rgba(0,0,0, 0.0976563) solid 1px;font-weight:bold;font-size:medium;width:24%;height:100%;\">'+s.followers_count+'</br><span style=\"float:left;color:gray;font-weight:lighter;font-size:small\">Followers</span></span><span style=\"padding:5px 5px 5px 12px;float:left;font-weight:bold;font-size:medium;width:24%;height:100%;\">'+s.friends_count+'</br><span style=\"float:left;color:gray;font-weight:lighter;font-size:small\">Following</span></span><span style=\"padding:12px 5px 5px 5px;float:right;font-weight:bold;font-size:medium;width:28%;height:100%;\"><img src=\"resources/images/twitter_32.png\" width=30 style=\"vertical-align:middle;margin-right:4px;\"><a href=\"https://twitter.com/intent/user?screen_name='+s.screen_name+'\" target=\"_new\" style=\"text-decoration:none;font-size:smaller;color:black;\">Follow</a></span><span style=\"clear:both;\"></span></div>';n+='<div style=\"font-size:14px;color:gray;'+(f?\"padding:10px 15px 15px 10px;\":\"padding:7px 10px 8px 10px;\")+'\"><h4>'+i.getThemeByKey(e.theme)+\" | \"+b(e.pubDate)+'</h4></div><div style=\"'+(f?\"line-height:140%;padding:0px 15px 15px 15px;font-size:17px;\":\"line-height:110%;padding:0px 10px 10px 10px;\")+'background-color:white;\">'+e.title+\"</div>\";return[m,k,r,n]},h=function(){var k=e.image,l=\"\";l=\"<div><img src=\"+k+'.jpg style=\"width:100%;margin:0px;padding:0px;\"/></div><div style=\"background-color:#fff;padding:10px;color:#000;\"><strong>'+e.title+'</strong></br></br><span style=\"font-size:smaller;\">'+e.content+\"</span></div>\";return l},g=function(){var l=\"\",k=\"\";l='<div style=\"background-size:100%;height:140px;padding-top:10px;background-color:#444;\"><div style=\"position:relative;padding:0px;margin-top:10px;color:white;text-align:center;text-shadow: rgba(0, 0, 0, 0.498039) 0px 1px 1px;\">'+(e.provider.logo?'<img src=\"'+e.provider.logo+'\" height=\"40\"> ':\"\")+'<h3><strong style=\"font-size:larger;margin-bottom:12px;\">'+e.provider.name+'</strong></h3><h4 style=\"padding:5px;\"><a href=\"'+e.provider.url+'\" target=\"_new\" style=\"color:white\">'+e.provider.url+\"</a></h4></div></div>\";k='<div style=\"background-size:100%;height:140px;padding:7px;background-color:#444;\"><div style=\"position:relative;margin-top:10px;color:white;text-align:center;text-shadow: rgba(0, 0, 0, 0.498039) 0px 1px 1px;\"><h4 style=\"font-size:smaller\">'+e.provider.description+\"</h4></div></div>\";return[l,k]};return{createBody:a,createTwitterBody:j,createFlickrBody:h,createProvider:g}},openShare:function(){this.self.actionsheet.show(",502711,32,"Fe",502747,41,"fe",502792,37,"int",502863,42,"theme",502911,141,"userInfo\"},{name:\"provider\"",503095,45,503187,32,"Main",503223,60,"Feed\",proxy:{type:\"memory\"},autoLoad:false,sorters:[{property:\"id\",direction:\"ASC\"}]",503398,377,"define(\"OECDInfo.view.Detail\",{extend:Ext.Panel,alias:\"widget.detail\",initialize:function(){if(this.getFromTablet()){this.query(\"button[action=share]\")[0].hide();this.query(\"button[action=prev]\")[0].hide();this.query(\"button[action=next]\")[0].hide();this.query(\"button[action=email]\")[0].show();this.query(\"button[action=facebook]\")[0].show();this.query(\"button[action=twitter]\")[0].show()}else{this.query(\"button[action=share]\")[0].show();this.query(\"button[action=prev]\")[0].show();this.query(\"button[action=next]\")[0].show();this.query(\"button[action=email]\")[0].hide();this.query(\"button[action=facebook]\")[0].hide();this.query(\"button[action=twitter]\")[0].hide()}this.callParent()},config:{fromTablet:false,favoriteId:\"\",userInfo:null,id:\"detail\",hidden:true,zIndex:100,width:\"100%\",height:\"100%\",showA",483481,39,",duration:150},style:\"background-color:white\",layout:\"vbox\",items:[{xtype:\"carousel\",direction:\"vertical\",items:[{html:\"\"},{html:\"\"}]},{xtype:\"panel\"},{xtype:\"panel\",layout:\"fit\",scrollable:true,flex:1},{xtype:\"toolbar\",ui:\"light\",docked:\"top\",items:[{xtype:\"button\",iconCls:\"delete\",action:\"close\"}]",500205,35,"defaults:{xtype:\"button\",flex:1,style:\"\"},items:[{ui:\"back\",text:\"Prev\",action:\"prev\"},{text:\"Share\",action:\"share\"},{text:\"Email\",action:\"email\"},{text:\"Facebook\",action:\"facebook\"},{text:\"Tweet\",action:\"twitter\"},{text:\"Open\",action:\"open\"},{ui:\"forward\",text:\"Next\",action:\"next\"}]}],listeners:[{element:\"element\",delegate:[\"span.link\"],event:\"tap\",fn:function(a,c,b){this.fireEvent(\"opentap\",c.getAttribute(\"name\"))}},{element:\"element\",delegate:[\".header\"],event:\"swipe\",fn:function(a,c,b){if(a.direction==\"up\"){this.fireEvent(\"providertap\",\"up\")}else{if(a.direction==\"down\"){this.fireEvent(\"providertap\",\"down\")}}}},{element:\"element\",delegate:[\".header\"],event:\"tap\",fn:function(a,c,b){this.fireEvent(\"providertap\",\"up\")}},{delegate:[\"button[action=prev]\"],event:\"tap\",fn:function(){this.fireEvent(\"prevtap\")}},{delegate:[\"button[action=next]\"],event:\"tap\",fn:function(){this.fireEvent(\"nexttap\")}},{delegate:[\"button[action=open]\"],event:\"tap\",fn:function(){var a=this.getData().link;this.fireEvent(\"opentap\",a)}},{delegate:[\"button[action=share]\"],event:\"tap\",fn:function(){this.fireEvent(\"sharetap\")}},{delegate:[\"button[action=email]\"],event:\"tap\",fn:function(){this.fireEvent(\"emailtap\")}},{delegate:[\"button[action=facebook]\"],event:\"tap\",fn:function(){this.fireEvent(\"facebooktap\")}},{delegate:[\"button[action=twitter]\"],event:\"tap\",fn:function(){this.fireEvent(\"twittertap\")}},{delegate:[\"button[action=close]\"],event:\"tap\",fn:function(){this.fireEvent(\"hidetap\")}}]}});Ext.define(\"OECDInfo.view.Share\",{extend:Ext.ActionSheet,alias:\"widget.share\",initialize:function(){if(this.getIsTablet()){var a=this.query(\"button[action=decline]\")[0];a.setHidden(true);this.setWidth(250);this.setModal(true);this.setHideOnMaskTap(true);this.setHeight(145);this.setShowAnimation({type:\"fadeIn\",duration:50});this.setHideAnimation({type:\"fadeOut\",duration:50})}this.callParent()},config:{isTablet:false,hidden:true,zIndex:1000,items:[{text:\"Email\",action:\"email\"},{text:\"Facebook\",action:\"facebook\"},{text:\"Tweet\",action:\"twitter\"},{text:\"No thanks\",ui:\"decline\",action:\"decline\"}],listeners:[{delegate:[\"button[action=email]\"],event:\"tap\",fn:function(){this.fireEvent(\"emailtap\")}},{delegate:[\"button[action=facebook]\"],event:\"tap\",fn:function(){this.fireEvent(\"facebooktap\")}},{delegate:[\"button[action=twitter]\"],event:\"tap\",fn:function(){this.fireEvent(\"twittertap\")}},{delegate:[\"button[action=decline]\"],event:\"tap\",fn:function(){this.hide()}}]}});Ext.define(\"OECDInfo.view.Theme\",{extend:Ext.form.Panel,alias:\"widget.theme\",initialize:function(){var c=0;themes=OECDInfo.app.themes,initial=OECDInfo.app.isInitial,html=\"\",title=\"\";if(initial){this.setHideOnMaskTap(false);this.query(\"button[action=cancel]\")[0].setHidden(true);title=\"Chose at least one themes you want to follow\"}else{this.setHideOnMaskTap(true);this.query(\"button[action=cancel]\")[0].setHidden(false);title=\"Chose the themes you want to follow\"}if(this.getFromTablet()){var a=Ext.create(\"Ext.form.FieldSet\",{layout:\"hbox\",title:title});var b=[];b[0]=Ext.create(\"Ext.Panel\",{flex:1});b[1]=Ext.create(\"Ext.Panel\",{flex:1});for(var d=0;d<themes.length;d++){b[d%2].add({xtype:\"checkboxfield\",labelWidth:320,checked:((initial&&d==0)?true:false),disabled:((initial&&d==0)?true:false),labelAlign:\"right\",listeners:{change:function(e){}},name:themes[d].name,label:themes[d].name,value:themes[d].key})}a.add(b[0]);a.add(b[1]);this.add(a)}else{var a=Ext.create(\"Ext.form.FieldSet\",{title:title,width:300});for(var d=0;d<themes.length;d++){a.add({xtype:\"checkboxfield\",labelWidth:250,checked:((initial&&d==0)?true:false),disabled:((initial&&d==0)?true:false),labelAlign:\"right\",listeners:{change:function(e){}},name:themes[d].name,label:themes[d].name,value:themes[d].key})}this.add(a)}this.callParent()},config:{fromTablet:false,id:\"theme\",scrollDock:\"bottom\",scrollable:\"vertical\",height:\"100%\",items:[{xtype:\"panel\",action:\"intro\",height:30,html:\"<h3>Welcome to OECDInfo!</h3>\",hidden:true",500205,35,"layout:{pack:\"center\"},items:[{xtype:\"button\",ui:\"action\",width:150,action:\"cancel\",text:\"Cancel\"},{xtype:\"button\",ui:\"confirm\",width:150,action:\"save\",text:\"Save\"}]}]",503767,45,"Main\",\"Menu\",\"Detail\",\"MainList\",\"Share\",\"Theme\"],models:[\"Feed\"],stores:[\"MainStore\"],controllers:[\"Main",503859,458,"menus:[\"All\",\"News\",\"Articles\",\"Publications\",\"Twitter\",\"Photos\",\"Videos\",\"Links\"],themes:[{name:\"OECD News\",key:\"Generic\"},{name:\"Agriculture and Food\",key:\"Agriculture\"},{name:\"Development\",key:\"Development\"},{name:\"Economics\",key:\"Economics\"},{name:\"Education\",key:\"Education\"},{name:\"Employment\",key:\"Employment\"},{name:\"Energy\",key:\"Energy\"},{name:\"Environment\",key:\"Environment\"},{name:\"Finance and Investment\",key:\"Finance\"},{name:\"Governance\",key:\"Governance\"},{name:\"Industry and Services\",key:\"Industry\"},{name:\"Nuclear Energy\",key:\"Nuclear\"},{name:\"Science and Technology\",key:\"Science\"},{name:\"Social Issues/Migration/Health\",key:\"Social\"},{name:\"Taxation\",key:\"Taxation\"},{name:\"Trade\",key:\"Trade\"},{name:\"Transport\",key:\"Transport\"},{name:\"Urban, Rural and Regional Development\",key:\"Urban\"}],label:\"OECD Info\",isInitial:false,isTablet:false,currentType:\"All\",serviceRoot:function(){var a=location.protocol;if(a==\"file:\"){return\"http://test-oecdinfo.herokuapp.com\"}else{return\"\"}},launch:function(){var d=function(){var h={};var g=window.location.search.substring(1);var j=g.split(\"&\");for(var f=0;f<j.length;f++){var k=j[f].split(\"=\");if(typeof h[k[0]]===\"undefined\"){h[k[0]]=k[1]}else{if(typeof h[k[0]]===\"string\"){var e=[h[k[0]],k[1]];h[k[0]]=e}else{h[k[0]].push(k[1])}}}return h}();",504335,41,"var a=d.type;var b=window.innerWidth;var c=d.d;if(a==\"log\"){",504376,43,"LogList\"))}else{if(c==\"phone\"){this.isTablet=false}else{if(c==\"tablet\"){this.isTablet=true}else{if(b>500){this.isTablet=true}}}Ext.Viewport.on(\"orientationchange\",function(){if(Ext.os.is.Android){Ext.Viewport.setSize(window.innerWidth,window.innerHeight)}});Ext.Viewport.add((this.isTablet?Ext.create(\"OECDInfo.view.Main\"):Ext.create(\"OECDInfo.view.MainList\")))}",504430,158,"){window.location.reload()})}});"]