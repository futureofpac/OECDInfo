["/*fa6181167de8dc21f835a25075e22139ce615d3e",42,274291,276686,5047,"Img\",{extend:Ext.Component,xtype:[\"image\",\"img\"],config:{src",420921,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"},beforeI",303744,34,"onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a",274591,53,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",262204,36,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",521150,38,"hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",251088,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",288567,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b",515870,35,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(",354366,36,"detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement",317280,38,281733,19411,304834,219128,548116,562,",{name:\"Link",532170,272,548935,214,"News\",label:\"OECD News",549177,1183,"s",550361,218,",\"Link",534164,36,"a]",534236,40,"]",534300,34,528765,156,528943,964,"9",530845,80,529989,1621,"\",{extend:Ext.Container,alias:\"widget.main\",config:{layout:\"hbox\",items:[{xtype:\"menu\",width:\"200px\",hidden:false,modal:false,hideOnMaskTap:false},{xtype:\"mainlist\",flex:1",535087,114,"isttop:\"mainlist toolbar",535198,241,",share:\"share\",tabletPrev:\"#btnPrev\",tabletNext:\"#btnNext\"},control:{viewport:{onrientationchange:function(){alert(\"change\")}},",535450,117,"if(a.data.typeName==\"Links\"){this.openLink(a.data.link)}else{this.openDetail(a.data)}},loadmoretap:function(){}},listtop:{toptap:function(){alert(\"a\")",535615,33,"loadMore()}},tabletPrev:{",535807,165,"scrollListSelected();this.openDetail(a)}}},tabletNext:{",535807,42,"next",535853,33,536071,54,"if(this.self.currentIndex==(this.self.currentPage*this.self.pageSize)-1){this.loadMore()}this.self.currentIndex++;this.scrollListSelected();this.openDetail(a)}}},detail:{show",538313,40,"openTabletNavi()}},hide:function(){console.log(this.self.currentIndex);if(this.self.currentIndex>-1&&!this.self.isTablet){this.scrollListSelected()}if(this.self.isTablet){this.closeTabletNavi()}},",535765,360,"if(this.self.currentIndex==(this.self.currentPage*this.self.pageSize)-1){this.loadMore()}",536125,71,"openShare()},opentap:function(a){this.openLink(a",536254,74,",emailtap:function(a){this.shareEmail(a)},facebooktap:function(a){this.shareFacebook(a)},twittertap:function(a){this.shareTwitter(a",536326,376,"if(a==\"Links\"){this.callLinks()}else{this.displayList(1)}",536722,267,",share:{emailtap:function(){this.shareEmail()},facebooktap:function(){this.shareFacebook()},twittertap:function(){this.shareTwitter()",536987,71,"feeds:[],link",537063,195,"\"Generic\"",537273,114,"allInitLog:function(){var a=this",539901,37,"smart-ip.net/geoip-json\",callback:function(d,b){var c={ip:b.host,deviceType:Ext.os.deviceType,os:Ext.os.name,osversion:Ext.os.version,country:b.countryName,countryCode:b.countryCode,city:b.city,createdat:(new Date())};Ext.Ajax.request({url:OECDInfo.app.serviceRoot()+\"/log/init\",method:\"POST\",params:c,timeout:10000,callback:function(f,e){}})}})},scrollListSelected:function(){var c=this.getList(),a=c.getViewItems(),b=a[this.self.currentIndex-1],d=b.bodyElement.dom.offsetTop-26;c",541124,42,"d);c.deselectAll();c.select(this.self.currentIndex)},getLink:function(){var a=function(c,b){if(c==null){return\"\"}c=c",541632,72,"c=c",541707,74,"c=c",541784,69,"c=c",541856,78,"c}},preloadImg:function(c){for(var b=0;b<c.length;b++){var a=new Image();a.src=c[b]}},shareEmail:function(){var a=this.self.detail.getData();alert(\"a\");window.open(\"mailto:?subject=OECD Info:\",\"email\")},shareFacebook:function(a){var a=this.self.detail.getData();window.open(\"https://www.facebook.com/sharer/sharer.php?u=\"+a.link,\"fbsharer\")},shareTwitter:function(a){var a=this.self.detail.getData();window.open(\"https://twitter.com/intent/tweet?url=\"+a.link+\"&text=\"+a.title,\"twitter\")",537384,453,"prev=Ext.Viewport.add({xtype:\"image\",id:\"btnPrev\",src:\"resources/images/arrow_left.png\",zIndex:10000,width:110,height:130,top:300,left:50});this.self.next=Ext.Viewport.add({xtype:\"image\",id:\"btnNext\",src:\"resources/images/arrow_right.png\",zIndex:10000,width:110,height:130,top:300,right:50",537993,52,537876,53,"400,height:\"80%\",centered:true,style:\"border:solid 1px black\",showAnimation:{type:\"pop\",duration:150},hideAnimation:{type:\"fadeOut\",duration:150}});",538048,53,",isTablet:true});this.preloadImg([\"resources/images/arrow_left.png\",\"resources/images/arrow_right.png\"]",537941,106,";",538048,56,"},openTabletNavi:function(){this.self.prev.show();this.self.next.show()},closeTabletNavi:function(){this.self.prev.hide();this.self.next.hide()},getTheme:function(){var b=localStorage.themes",538168,80,"localStorage.themes=JSON.stringify(a)},setFeeds:function(a){console.log(a);localStorage.feeds=JSON.stringify(a)},getFeeds:function(){var b=localStorage.feeds",538168,45,"[]:a",538302,245,"handleOrientationDetail:function(){var a=window.innerWidth;if(a>800){this.self.prev.setTop(330);this.self.next.setTop(330);this.self.prev.setLeft(90);this.self.next.setRight(90);this.self.detail.setWidth(440);this.self.detail.setHeight(\"80%\")}else{this.self.prev.setTop(500);this.self.next.setTop(500);this.self.prev.setLeft(50);this.self.next.setRight(50);this.self.detail.setWidth(400);this.self.detail.setHeight(\"70%\"",538543,398,"if(d){this.handleOrientationDetail()}",538941,429,"3",539371,227,"3",539599,182,"Links:function(){var a",539806,81,"Ext.data.JsonP.request({url:OECDInfo.app.serviceRoot()+\"/api/links/\",callback:function(c,b){if(b==null){Ext.Msg.alert(\"Alert\",\"No Data, Try it later again\");a.displayMenu()}else{a.self.links=[].concat(b);a.displayMenu(",541245,32,"}",539774,156,"OECDInfo.app.serviceRoot()+\"/api/\"+a+\"/20/\",callback:function(g,c){console.log(c);if(c==null){Ext.Msg.alert(\"Alert\",\"No Data, Try it later again\");b.displayList(1)}else{b.self.feeds=[].concat(c.feeds);b.displayList(1);var f=[],e=\"\";for(var d=0;d<c.feeds.length;d++){e=c.feeds[d].typeName;if(e!=\"Articles\"&&e!=\"Photos\"&&e!=\"Videos\"){f.push(c.feeds[d])}}}",540058,197,540294,98,"feeds:this.self.feed",540414,148,"Menu:function(){var a=Ext.getStore(\"MainStore\"),b=this.getList();b",541124,51,"a.removeAll();",535643,47,"a.setData(this.self.links);a.load()},loadMore",535631,124,",displayList:function(e){var h",541055,44,"if(e",540583,108,"f=this,g=this.self.pageSize;var j=function(l,i,n){var m=f.self.currentType;return(l.typeName==m)};var k",540794,70,"feeds:this.self.feeds.filter(j));var b=k.slice(((e-1)*g),e*g);if(k.length>b",540941,109,"console.log(b);if(e",541118,60,"b.length==0){h.removeAll();h.setData(b);h.load()}else{h.removeAll();h.setData(b);h.load()}}else{h.add(b)}Ext.Viewport.setMasked(false);var c=[];for(var a=0;a<b.length;a++){if(b[a].typeName==\"Photos\"){c.push(b[a].image+\".jpg\")}}if(c.length>0){this.preloadImg(c)}},openLink",536216,41,541278,1345,"'</strong></h3><h4 style=\"font-size:14px;\">'",542754,57,542669,65,"'</strong></h3><h4 style=\"font-size:14px;\">'",542754,290,"k+='<div style=\"padding:10px\">'+d(e.content)+\"</div>\";",543163,92,"30),o=(f?90:60),q=(f?17:5",543280,1515,"'</span></h4",546998,33,544814,323,"24",545139,54,"float:left;",545453,48,545241,155,"24",545398,55,"float:left;",545453,160,"24",545615,53,"float:left;",545453,54,"ing",545247,35,"12px 5px 5px 5px;float:right",545355,41,"28%;height:100%;\"><img src=\"resources/images/twitter_32.png\" width=30 style=\"vertical-align:middle;margin-right:4px;\"><a href=\"https://twitter.com/intent/user?screen_name='+s.screen_name+'\" target=\"_new\" style=\"text-decoration:none;font-size:smaller;color:black;\">Follow</a",545731,65,"font-size:14px;color:gray;'+(f?\"padding:10px 15px 15px 10px;\":\"padding:7px 10px 8px 10px;\")+'\"><h4>'",542754,45,"'</h4></div>",545784,43,"0px 15px 15px 15px;font-size:17px;\":\"line-height:110%;padding:0px 10px 10px ",545890,1275,"openShare",538313,35,"var a=this.getDetail().query(\"button[action=share]\")[0];this.self.actionsheet.showBy(a)}else{this.self.actionsheet.show()}",547214,113,"int",547333,399,"sorters:[{property:\"id\",direction:\"ASC\"}]",547731,399,550686,139,";this.query(\"button[action=share]\")[0].hide();this.query(\"button[action=prev]\")[0].hide();this.query(\"button[action=next]\")[0].hide();this.query(\"button[action=email]\")[0].show();this.query(\"button[action=facebook]\")[0].show();this.query(\"button[action=twitter]\")[0].show()}else",550780,39,"show();this.query(\"button[action=share]\")[0].show();this.query(\"button[action=prev]\")[0].show();this.query(\"button[action=next]\")[0].show();this.query(\"button[action=email]\")[0].hide();this.query(\"button[action=facebook]\")[0].hide();this.query(\"button[action=twitter",550812,298,551121,193,551380,130,"Share\",action:\"share\"},{text:\"Email\",action:\"email\"},{text:\"Facebook\",action:\"facebook\"},{text:\"Twitter\",action:\"twitter",551500,544,552365,382,"email",552752,46,"email",552507,34,"facebook",552752,46,"facebook",552507,34,"twitter",552752,46,"twitter",552507,34,552747,145,550734,33,"IsTablet()){var a=this.query(\"button[action=decline]\")[0];a.setHidden(true);this.setWidth(250);this.setModal(true);this.setHideOnMaskTap(true);this.setHeight(145);this.setShowAnimation({type:\"fadeIn\",duration:50});this.setHideAnimation({type:\"fadeOut\",duration:50})}this.callParent()},config:{isTablet:false,",552900,44,"console.log(b.action);var c=this.getParent();c.fireEvent(b.action+\"tap\",c.getData());c",552960,42,",action:\"email\"},{text:\"Facebook\",action:\"facebook\"},{text:\"Twitter\",action:\"t",553030,39,",action",553059,612,"viewport:{autoMaximize:true},themes:[{name:\"OECD News\",key",549184,41,553744,687,"serviceRoot:function(){var a=location.protocol;console.log(a);if(a==\"file:\"){return\"http://test-oecdinfo.herokuapp.com\"}else{return\"\"}},launch:function(){var c=function(){var g={};var f=window.location.search.substring(1);var h=f.split(\"&\");for(var e=0;e<h.length;e++){var j=h[e].split(\"=\");if(typeof g[j[0]]===\"undefined\"){g[j[0]]=j[1]}else{if(typeof g[j[0]]===\"string\"){var d=[g[j[0]],j[1]];g[j[0]]=d}else{g[j[0]].push(j[1])}}}return g}();",554449,65,"var b=c.d;if(b==\"phone\"){this.isTablet=false}else{if(b==\"tablet\"){this.isTablet=true}else{if(a>500){this.isTablet=true}}",554542,41,"on(\"orientationchange\",function(){if(Ext.os.is.Android){Ext.Viewport.setSize(window.innerWidth,window.innerHeight)}}",554568,295]